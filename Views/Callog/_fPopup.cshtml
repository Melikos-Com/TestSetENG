@model Ptc.Spcc.CCEng.Models.FileViewModel

@Styles.Render("~/Content/css/fileInput")


<div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title">檢視圖片</h4>
        </div>
        <div class="modal-body">
            <input id="fileInput" name="fileInput" type="file" multiple class="file-loading">
        </div>

    </div>
</div>

<!--fileinput-->
<script type="text/javascript">

    var webImgList = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model.ImageBase64List));

    var initialPreview = [];


    webImgList.forEach(function(val,index,array){

        initialPreview.push(`data:image/png;base64,${val}`)

    });

    $("#fileInput").fileinput({
        initialPreviewAsData: true,
        overwriteInitial: true,
        initialPreview: initialPreview,
        initialPreviewConfig: [],
        allowedFileExtensions: ["GIF", "JPEG", "TIFF", "PCX", "PNG", "JPG"],
        maxFilePreviewSize: 10240,
        browseClass: "btn",
        uploadClass: "btn btn-file displaynone",
        removeClass: "btn btn-file",
        showUpload: false,
        showRemove: false,
        uploadAsync: false
    });

</script>